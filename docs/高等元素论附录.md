## 前言

今年初我发布了有关 _冻结_ 反应相关机制的帖子，[这里是老帖链接](https://bbs.nga.cn/read.php?tid=25681266)。

老帖中的内容仅仅是对部分机制作数据的总结归纳，来展示存在这些机制，也提供了粗略的拟合公式与思路来辅助计算，但对机制具体如何运作以及具体计算公式是什么并无结论，这点我也在老帖中强调了，直到最近一段时间该部分内容有了突破性进展。

这里特别感谢【tesiacoil】大佬的技术支持，同时也感谢「提瓦特大学」的大佬们的帮助， _冻结_ 相关问题虽然是这几天才有了定论，但其实不时就会有一段时间讨论该问题，很多成员也都曾参与过讨论与测试，十分感谢各位。

这里小小宣传一下「提瓦特大学」

<details><summary>关于提瓦特大学 ...</summary>

这里引用“小明明”大佬的话：

提瓦特大学是一个经常互相交流的小群体而不是攻略组，帖子权利各归各自。

共用的“提瓦特大学”贴牌和logo，代表着群员之间的相互认可、而不代表帖子的权利归属。

提瓦特大学的其它贴牌帖亦同。

(附提瓦特大学logo)

<img src="https://img.nga.178.com/attachments/mon_202106/30/i2Q2o-8uxmZaT3cSsg-sg.jpg.medium.jpg" alt="img" style="zoom:50%;" />

</details>

本帖内容为角色对怪物施加 _冻结_ 的情况，不保证角色自己的 _冻结_ 以及特殊情况符合相关规律。

结合[《高等元素论》](https://bbs.nga.cn/read.php?tid=24400590)一同食用效果更佳。

## 一。冻元素量、冻元素衰减速度与冻结时长公式

### 1.1 冻元素量 

 _冻_ 元素的元素量取决于该次 _冻结_ 反应中消耗的元素量，为该值的两倍，即$冻元素量=2×冻结元素消耗量$。

 _冻结_ 元素消耗量的值为该次 _冻结_ 反应中 _冰_ 、 _水_ 元素二者元素量较少的一方。

例如某丘丘人 A 身上挂有 0.7 的 _冰_ 元素，此时用元素量为 $ 1 $ 的弱 _水_ 去触发 _冻结_ ，则该次 _冻结_ 反应消耗的元素量为 $ 0.7 $，而产生的 _冻_ 元素量为 $ 1.4 $。

### 1.2 冻元素衰减速度 

不同于正常情况下元素附着的衰减， _冻_ 元素的衰减速度会随 _冻结_ 的时间增加，单位每处在 _冻结_ 状态下 1s， _冻结_ 衰减速度便会增加 0.1。

 _冻结_ 衰减速度的初始值为 $ 0.4 $，其也为衰减速度的最小值。理论上存在衰减速度的上限，但目前游戏中正常情况一般无法触及上限，故此处暂不讨论。

### 1.3 冻结时长公式 

有了 1.1 与 1.2 中的内容支持，我们可以写出一次 _冻结_ 中 _冻_ 元素量与 _冻结_ 持续时间存在如下对应关系

$$
\int^{\mathit{T}}_0 0.4(1+0.25\mathit{t})d\mathit{t}=D
$$

这里 $T$ 为该次 _冻结_ 时长，$D$ 为 _冻_ 元素量

如果用 $\mathit{x}$ 表示该次 _冻结_ 反应的元素消耗量，经过简单的数学计算，可以得出

$$
T=2\sqrt{5D+4}-4=2\sqrt{10x+4}-4
$$

附上公式与实际测试数据的对比图 (横坐标为 _冻结_ 消耗量，纵坐标为 _冻结_ 时长)

![img](https://img.nga.178.com/attachments/mon_202111/28/i2Q2p-aqwkZnT3cS1jk-1jk.png.thumb.jpg)

## 二。连续冻结与冻结抵抗

### 2.1 连续冻结

老帖中提到了连续 _冻结_ 会导致 _冻结_ 持续时间变短，这实际上是因为 _冻_ 元素消耗速率会继承，而且消耗速率不会在解冻后瞬间归于最小值，而是以两倍增加速度即 0.2 元素量每秒的速度减少，直至减小至最小值 0.4。

在上一次 _冻结_ 还未结束时触发了下一次 _冻结_ 的话，将会出现两个 _冻_ 元素量，应当是类似同元素叠加的两者取其多。这部分尚未实际测试，因为实际状况下很难出现下一次 _冻_ 元素量少于前一次的情况，待测试后再编辑此处。

### 2.2 冻结抵抗 

2.1 提到的连续 _冻结_ 会产生类似于「抵抗」 _冻结_ 的效果，除此以外游戏中还有个别其他影响 _冻结_ 时间的效果，例如 _水_ 使徒进入护盾状态下自带 $ 80\% $ 的 _冻结_ 抵抗。 

 _水_ 使徒的 _冻结_ 抵抗实际上并非直接减少 _冻结_ 的时间而是减少 _冻_ 元素量，所以反映到 _冻结_ 时间上并非是 $ 80\% $  _冻结_ 抵抗减少 $ 80\% $ 的 _冻结_ 时间，对于 _水_ 使徒而言 $ 80\% $ 的抵抗减少了了大约 $ 70\% $ 的 _冻结_ 时间，具体情况如下图所示。

纵坐标为 _水_ 使徒开盾后单次 _冻结_ 时长比正常状况下理论 _冻结_ 时长，横坐标为该次 _冻结_ 反应元素消耗量 (请忽略负值)。

![img](https://img.nga.178.com/attachments/mon_202111/28/i2Q2p-fzs9ZiT3cSsg-sg.jpg.thumb.jpg)

### 2.3 完整公式 

如果考虑到连续 _冻结_ 和类 _水_ 使徒的 _冻结_ 抵抗对 _冻结_ 时长造成的影响，可以得到如下完整的公式

$$
\def\t{\mathit{t}} 

T=(4+\t') \left(\sqrt{1+\dfrac{40(1-\mathit{r})\mathit{x}}{(4+\t')^2}}-1 \right)
\begin{cases}
   \t'=\t_0-2\t_1 &\text{if  } \t_0-2\t_1 \gt 0  \\
   \t'=0          &\text{if  } \t_0-2\t_1 \leqslant 0
\end{cases}
$$

其中 $t_0$ 表示该次 _冻结_ 前进入过的 _冻结_ 的持续时间，$t_1$ 表示该次 _冻结_ 前解冻状态下 _冻_ 元素衰减速率持续减少的时间 (当速率已降至最小值 $0.4$ 之后的非 _冻结_ 状态时间不计入 $t_1$)，$r$ 代表类 _水_ 使徒 _冻结_ 抵抗。

## 三。藏元素与其反应规律

### 3.1 藏元素反应规律

 _冻结_ 状态下单位仍可被附着有 _水_  /  _冰_ 元素 (反应残留或反应后新的附着)，称这种元素为 _藏_ 元素，同时称 _冻结_ 元素为 _冻_ 元素。

当 _藏_ 元素与 _冻_ 元素同时存在时，与其余几种元素发生反应存在以下几条规律。

规律一： _碎冰_ 反应优先于其他反应

规律二： _风_ 优先反应 _藏_ 元素

规律三： _火_ 和 _雷_ 优先反应 _藏冰_ 元素其次是 _冻_ 元素

规律四：先反应 _藏_ 元素的情况，不足的量会由 _冻_ 元素补充反应。先反应 _冻_ 元素的情况，不足的量不会由 _藏_ 元素补充反应。

( _岩_ 元素会优先 _碎冰_  后 _结晶_  _藏_ 元素， _水_  _冰_ 仍可补充 _冻结_ ，这两种情况单一，不再单独纳入规律中)

### 3.2 规律解读 

规律一：游戏中部分攻击方式可 _碎冰_ 的同时带有元素，例如迪卢克的 E。此情况下的攻击会先判定 _碎冰_  ，之后再判定其他元素的情况。例如迪卢克 E 攻击一带有 _藏水_ 元素的 _冻结_ 单位，会触发 _碎冰_ + _蒸发_ 。

规律二： _扩散_ 会优先消耗 _藏_ 元素，详细内容在规律四解读。

规律三： _火_ 和 _雷_ 会优先判定发生 _融化_  /  _超导_ 反应，并且优先级 _藏冰_  >  _冻_ 元素。例如对 _藏水_ 的 _冻结_ 单位用 _雷_ ，会和 _冻_ 元素触发 _超导_ ，而不触发 _感电_ 。再比如，对 _藏冰_ 元素的 _冻结_ 单位用 _火_ ，会先消耗 _藏冰_ ，不足的部分用 _冻_ 元素补足，而造成只触发一次 _融化_ 但消耗两部分元素的效果。

规律四：

例 1. 用元素量为 $ 1 $ 的 _火_ 打有 _藏冰_ 的 _冻结_ 单位，其中 _藏冰_ 元素量为 $ 0.4 $， _冻_ 元素量足量，  
根据规律三 _火_ 会优先和 _藏冰_ 反应，因为 _火_ 克 _冰_ ，消耗 $ 0.4 $  _藏冰_ 只需 0.2  _火_ 元素，剩余的 $ 0.8 $  _火_ 元素则会与 _冻_ 元素反应。

例 2. 用元素量为 $ 1 $ 的 _风_  _扩散_ 有 _藏水_ 的 _冻结_ 单位，其中 _藏水_ 元素量为 $ 0.3 $， _冻_ 元素足量，  
根据规律二 _风_ 会先和 _藏_ 元素反应，由于 _风_ 被 _冰_  /  _水_ 克制，消耗 $ 0.3 $ 的 _藏水_ 需 0.6 的 _风_ 元素量，剩下的 $ 0.4 $  _风_ 元素量会再消耗 $ 0.2 $ 的 _冻_ 元素。

例 3. 用元素量为 $ 2 $ 的 _雷_ 打有 _藏水_ 的 _冻结_ 单位，其中 _冻_ 元素量为 $ 1 $， _藏水_ 元素量无所谓，  
根据规律三类优先与 _冻_ 元素反应，消耗完 _冻_ 元素后单位解冻，尽管还剩余 1 的 _雷_ 元素，也不会与 _藏水_ 反应。

## 结语

 _冻结_ 相关的大多数问题算是暂时有了定论，实际测试相关问题的数据会存在波动，这是因为硬件帧数，游戏内最小结算时间以及卡肉等因素会影响测试数据。其中卡肉对长时间 _冻结_ ，如永冻队，有较大的影响，这方面的具体研究梦魇佬这在做，大家可以期待一下，之后我也会链接到梦魇佬的帖子。

顺带一提，在今年九月份左右，kqm 那里已经有了关于实际 _冻结_ 时长公式和连续 _冻结_ 的猜测，这部分结论和本帖是一样的。但是本帖内容是提瓦特大学的各位一起得出的，并未借鉴 kqm 那边的内容。kqm 的公式我们之前就知道，我们是积分公式推出来的，不知道 kqm 也是这么得到的还是纯拟合猜的。而连续 _冻结_ 这部分机制是 t 佬拿到数据自己有结果后才去那边搜的，发现他们之前提到过。

实际上我也不能保证贴中内容内容完全准确，不过相比之前杂乱无章的总结，现在的内容已经很有逻辑性了瞎。

感谢各位看官，如有错误还望海涵

https://bbs.nga.cn/read.php?&tid=29632439

